## ☠ CSS ☠

CSS — это наша радость и наша боль. Возможности его сегодня огромны, но и плата высока. Судите сами:

* постоянные повторения в селекторах
* отсутствие хоть какой-то конфигурации
* ещё и префиксы

Думаю, каждый сидящий в зале сможет добавить ещё пару пунктов от себя в этот список.

В общем, CSS — он совсем не don't repeat yourself, совсем не DRY. Я бы сказал, он очень и очень далёк от этого принципа.

Решение известно, и у всех на слуху: это препроцессоры. Есть в зале те, кто не используют препроцессоры?

Отлично! Слайд специально для вас.

Сейчас на рынке три основных игрока: Sass, Less и Stylus — но если вам почему-то не хватает их возможностей, вы всегда можете написать свой на основе Rework.

Итак, что такое препроцессор? Это синтаксически сладкий язык + компилятор. Вы пишете простой и поддерживаемый код, а он компилириуется в CSS, к которому мы так привыкли, и который так не любим.

Кроме того, у препроцессоров часто есть плагины, которые ещё больше расширяют их возможности: например, автоподстановка префиксов.

На этом можно было бы тему и закрыть, но я, как раз, призываю вас на этом не останавливаться. Ведь о чём обычно вспоминают, когда говорят о препроцессорах:
* вложенность селекторов
* переменные
* миксины
* префиксы

Но ведь о стольких вещах забывают упомянуть. В препроцессорах ещё куча всего вкусного!

Например, циклы — такие обыденные для программистов. А верстальщики их, почему-то, боятся как огня.

Вот, к примеру, код колоночной системы. Это колонки размером от половины до 1/5. Сложно заметить на таком маленьком слайде, но с добавлением каждого размера колонки код растёт в арифметической прогрессии. А в случае использования циклов, мы получаем простой и расширяемый код всего в несколько строк. И это колонки размерностью от половины до 1/20!

Ещё один пример того, что часто остаётся за кадром — параметризация. Условное присваивание есть в Stylus по умолчанию: возможность задавать переменной значение по умолчанию, но при этом её можно переопределить. И если мы добавим нашим колонкам немного параметризации, мы получим не только расширяемый, но и гибкий код.

И такого в препроцессорах много! Изучайте документацию, читайте исходный код, пробуйте его возможности на вкус. Узнавайте, какие плагины есть, пишите свои — и тогда вы получите не просто игрушку, а реально мощный инструмент.

Вот график моих личных ощущений «в попугаях»: производительность с использованием препроцессора растёт в два раза, а если вы используете препроцессор по максимуму — то ещё в два раза. При этом, практически нахаляву.

А если говорить не про попугаев, то скорость создания нового скина в одном из наших продуктов выросла с два раза с момента перехода на препроцессор.

Итак, с написанием кода мы разобрались. Я передаю слово Артёму, он расскажет о способах улучшения [поддержки кода](scaffolding.md).
