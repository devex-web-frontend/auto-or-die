## ☠ CSS ☠

CSS — это наша радость и наша боль. Возможности его сегодня огромны, но и плата высока. Судите сами:

* постоянные повторения в селекторах
* отсутствие хоть какой-то конфигурации
* ещё и префиксы
* думаю, каждый сидящий в зале сможет добавить ещё пункт (или даже не один) от себя в этот список

В общем, CSS — он совсем не don't repeat yourself, совсем не DRY. Я бы сказал, он очень и очень далёк от этого принципа.

Решение известно, и у всех на слуху: это препроцессоры. Сейчас на рынке три главных игрока: Sass, Less и Stylus. Но в последнее время появились новые штуки — фреймфворки для создания пре- и постпроцессоров, такие как PostCss и rework. Так что если большая тройка вас не устраивает, вы можете написать свой.

Итак, препроцессоры. Есть в зале те, кто их не использует?

Как же они работают? Это синтаксически сладкий язык + компилятор. Вы пишете простой и поддерживаемый код, а он компилириуется в CSS, к которому мы так привыкли, и который так не любим.

Кроме того, у препроцессоров часто есть плагины, которые ещё больше расширяют их возможности: например, автоподстановка префиксов, умная минификация и т.д.

На этом можно было бы тему и закрыть, но я, как раз, призываю вас на этом не останавливаться. Ведь о чём обычно вспоминают, когда говорят о препроцессорах:
* вложенность селекторов
* переменные
* миксины
* префиксы

Но ведь о стольких вещах забывают упомянуть. В препроцессорах ещё куча всего вкусного!

Например, циклы — такие обыденные для программистов. А верстальщики их, почему-то, боятся как огня.

Вот, к примеру, код колоночной системы. Не вытайтесь это прочитать, тут важен объём кода. В случае использования циклов мы получаем простой и расширяемый код всего в несколько строк.

Ещё один пример того, что часто остаётся за кадром — параметризация. Условное присваивание есть в Stylus по умолчанию: возможность задавать переменной значение по умолчанию, но при этом её можно переопределить. И если мы добавим нашим колонкам немного параметризации, мы получим не только расширяемый, но и гибкий код.

Ну а если совместить крутые плюшки препроцессоров с новыми функциями CSS, такими как calc(), можно получить совсем космические вещи: например, плашки, которые растягиваются по ширине, чтобы не было пустого места, а по достижении определённой ширины перескакивают, чтобы не быть слишком длинными.

В общем, изучайте документацию своего препроцессора, читайте исходный код, пробуйте его возможности на вкус. Узнавайте, какие плагины есть, пишите свои — и тогда вы получите не просто игрушку, а реально мощный инструмент.

Вот график моих личных ощущений «в попугаях»: производительность с использованием препроцессора растёт в два раза, а если вы используете препроцессор по максимуму — то ещё в два раза. При этом, практически нахаляву.

Итак, с написанием кода мы разобрались. Я передаю слово Артёму, он расскажет о способах улучшения [поддержки кода](scaffolding.md).
