## ☠ Управление инструментами ☠

### Автоматизация?

Мы автоматизировали разработку и тестирование кода, организацию кода и управление зависимостями. Тем не менее, процесс всё равно выглядит муторно.

Представим себе ситуацию, что нам нужно добавить новый блок, в котором используется какой-то JS-контрол.
Нам нужно:
* Подключить контрол в `bower`, выкачать зависимости.
* Добавить блок с помощью `yo`.
* Запустить сборку и вотчер Assemble.
* Запустить сборку и вотчер Stylus.
* Запустить Karma в режиме вотчера.

И только потом можно приступать к разработке.

Ну ладно, разработчики люди бывалые, ко всему привыкли.
Но ведь и процесс сборки выглядит не лучше:
* Выкачать зависимости
* Запустить сборку Assemble
* Запустить сборку Stylus
* Прогнать тесты
* Запаковать результат в архив

Поглядев на это всё, можно сказать: «Какая же это автоматизация? Ну её нафиг, тут мне нужно обложиться окошками с терминалом и постоянно в них все заглядывать на предмет ошибок».

Действительно, все эти инструменты по своему прекрасны, но весь этот стек как-то увязать, иначе грустно.

### Единая среда

Не знаю, заметили ли вы, но в рассказе про каждый инструмент звучало название Node.js. И это ключевой момент. Нам важна единая среда — и в качестве таковой мы выбрали для себя Node.js, тем более, что сегодня это де-факто стандарт.


=====

### Единая среда

Многие, наверное, заметили, что мы постоянно в ходе доклада упоминали Node.js. Очень важно, чтобы всё работало в одной и той же среде. Мы для себя выбрали Node.js — сегодня это де-факто стандарт, но даже если вы решите использовать что-то другое — будьте последовательны.

### Запуск задач — это API

Какое бы средство автоматизации вы не выбрали, у него должна быть одна точка входа. В нашем случае — это NPM (без него ничего всё равно не заработает).

У нас есть контракт на запуск определённых npm-скриптов — и никому не обязательно знать, что там у нас под капотом. Достаточно один раз установить на машину глобальные Node-пакеты, и дальше можно не задумываться, что на самом деле используется.

### Grunt или gulp? 

Без разницы! Если у вас совсем маленький проект, вы вообще можете обойтись npm-скриптами. Но если вам нужен таск-раннер, выбирайте его не потому что можно-стильно-молодёжно, а исходя из своих нужд.

Мы используем Grunt:
* когда мы всё это затеяли про gulp ещё никто слыхом не слышал
* нам проще работать с конфигом, чем с пайплайном

### Show me money!

Собственно, процесс у нас построен просто:
* в package.json прописаны `install`, `test`, `start` (для дев-сервера) и `run build`
* в Gruntfile.js у нас есть `install` (да, мы стартуем Bower из Grunt), `build`, `test`, `devserver`, `html`, `css`, `js` и `default`.

Вот и всё! Серверным разработчикам или серверу Continuous Intergration совсем не обязательно что-то знать. Им просто надо один раз установить Node.js + NPM и Grunt CLI, а потом они запускают:
```
npm install
npm run build
```
и всё!
