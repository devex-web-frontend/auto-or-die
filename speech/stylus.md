## ☠ CSS ☠

Все проблемы CSS можно увидеть в это куске кода:
_код_

* постоянные повторения
* префиксы
* отсутствие конфигурации
* и т.д.

В общем, CSS — он совсем не DRY.

Естественно, решение давно известно — это препроцессоры. Есть в зале те, кто не используют препроцессоры?
— Нет: Тогда этот слайд мы пропустим.
— Да: Препроцессоры позволяют писать меньше кода за те же деньги. Например, такой код:
_код_
превращается в такой:
_код_

Препроцессоры — это отличный инстумент борьбы с рутиной. Но большинство постов и рассказов о них обычно ограничиваются стандартным набором:
* вложенность
* переменные
* миксины
* префиксы

Конечно, это всё мощные средства, сильно упрощающие разработку. Но это далеко не всё! Можно и нужно копать глубже — в любом препроцессоре есть куча «вкусных» штук.

Например, циклы. Они хорошо знакомы любому программисту, но верстальщики почему-то их побаиваются. А не стоит — это отличный способ уменьшить количество кода.

К примеру, мы писали свою колоночную систему. Без циклов так она выглядит для 2—3 колоночной вёрстки:
_код_
А если нужно 4 и 5 колонок:
_код_
Дальше — больше:
_код_
Ну а с использованием циклов можно получить расширяемый код всего в несколько строчек.

Все примеры будут из Stylus, потому что мы используем именно его.

Другой важный момент — параметризация. У нас есть возможность использовать условные конструкции. Это очень просто и очевидно, но об этом часто забывают.

Кроме того, в Stylus есть условное присваивание: значение будет присвоено только, если переменной ещё не было присвоено значение. Это очень удобный механизм для добавления значений по умолчанию.

Например, если к предыдущему примеру добавить всего несколько строк, мы получим ещё и гибкий код:
_код_

Другой важный момент — функции. Обычно в препроцессоре есть ряд встроенных функций, которые позволяют побеждать рутину.
Например, в Stylus переопределяется стандартная функция `rgba`, так что вместо:
_код_
можно писать более привычным образом:
_код_.
Или, например, функции работы с цветами `lighten`/`darken`, `saturate`/`desaturate` и т.д., которые позволяют забыть о ползунках и пипетках в случае, когда вам надо поменять какие-то параметры.
_скриншот_ + _код_
Или функция `image-size`, которая позволяет не писать размеры изображения руками, их за вас посчитает машина.

Но самое главное — если у вас есть какая-то рутина, вы легко можете написать функцию, которая будет что-то делать за вас. Например, нам надоело каждый раз переводить фотошоп тени в CSS в уме, и мы написали `ps-shadows`.
_скриншот_ + _код_

Ну и не забывайте про плагины. Если препроцессор имеет плагинную архитектуру, стоит, по крайней мере, изучить, какие плагины имеются, и как их писать. Понятно, что каждый, кто слышал про Stylus, знает и про Nib (точно так же как каждый, кто пользовался Sass, использовал Compass). Но это не единственный плагин. Например, можно не использовать стандартный минификатор Stylus, заменив его CSSO, а вместо стандартных префиксов из Nib использовать Autoprefixer. И конечно же, вы всегда можете написать свой.

В обшем, я призываю вас тщательнее изучать свой препроцессор: читать документацию и исходный код, пробовать его возможности на вкус, дописывать необходимые вам функции или плагины.

Я уверен, что вы будете вознаграждены. Ведь так приятно писать меньше кода. Особенно, нахаляву.
